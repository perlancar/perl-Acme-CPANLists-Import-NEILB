<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CPAN modules for generating passwords</title>
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy"/>
    <link rel='stylesheet' href='perl-reviews.css' type='text/css'/>
  </head>
<body>
<div class=titlebar>
    <h1>CPAN modules for generating passwords</h1>
    <p class=author>Neil Bowers</p>
    <p class=date>2012-08-04</p>
</div>
<p>
This is a review of the 15 modules available on CPAN that could be used
to generate a random password.
Skip to <a href="#conclusion">the conclusion</a> if you just want the recommendation
for which module to use.
</p>

<p>
I wanted the ability to generate random passwords for <a href="http://www.cogendo.com">our service</a>.
I turned to CPAN and quickly found Crypt::RandPasswd, which seemed to do the job,
and the pod says "random password generator based on FIPS-181". Sounded good.
But if you call it repeatedly, it will eventually just sit there chewing up CPU.
The pod says, in the Bugs section,
"The function to generate a password can sometimes take an extremely long time". Bugger.
</p>

<p>
Back to CPAN. Here's the hopefully full list of modules on CPAN for generating passwords:
</p>

<table class="moduleInfo">
<tr>
  <th align=left>Module</th>
  <th align=left>Doc</th>
  <th align=right>Version</th>
  <th align=left>Author</th>
  <th align=right># bugs</th>
  <th align=right># users</th>
  <th align=right>Last update</th>
</tr>
<tr>
  <td><a href="#App::Genpass"><tt>App::Genpass</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~xsawyerx/App-Genpass-2.32/lib/App/Genpass.pm">CPAN</a></span></td>
  <td align=right><tt>2.32</tt></td>
  <td align=left><a href="http://search.cpan.org/~xsawyerx/">Sawyer X</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=App-Genpass"><tt>0</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=App::Genpass"><tt>1</tt></a></td>
  <td align=right><tt>2012-06-30</tt></td>
</tr><tr>
  <td><a href="#Crypt::GeneratePassword"><tt>Crypt::GeneratePassword</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~jwalt/Crypt-GeneratePassword-0.03/lib/Crypt/GeneratePassword.pm">CPAN</a></span></td>
  <td align=right><tt>0.03</tt></td>
  <td align=left><a href="http://search.cpan.org/~jwalt/">JÃ¶rg Walter</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Crypt-GeneratePassword"><tt>2</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Crypt::GeneratePassword"><tt>1</tt></a></td>
  <td align=right><tt>2003-09-09</tt></td>
</tr><tr>
  <td><a href="#Crypt::PassGen"><tt>Crypt::PassGen</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~tjenness/Crypt-PassGen-0.05/PassGen.pm">CPAN</a></span></td>
  <td align=right><tt>0.05</tt></td>
  <td align=left><a href="http://search.cpan.org/~tjenness/">Tim Jenness</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Crypt-PassGen"><tt>1</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Crypt::PassGen"><tt>1</tt></a></td>
  <td align=right><tt>2008-03-26</tt></td>
</tr><tr>
  <td><a href="#Crypt::PW44"><tt>Crypt::PW44</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~briand/Crypt-PW44-0.13/lib/Crypt/PW44.pm">CPAN</a></span></td>
  <td align=right><tt>0.13</tt></td>
  <td align=left><a href="http://search.cpan.org/~briand/">Brian Dickson</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Crypt-PW44"><tt>4</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Crypt::PW44"><tt>0</tt></a></td>
  <td align=right><tt>2011-12-29</tt></td>
</tr><tr>
  <td><a href="#Crypt::RandPasswd"><tt>Crypt::RandPasswd</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~jdporter/Crypt-RandPasswd-0.02/lib/Crypt/RandPasswd.pm">CPAN</a></span></td>
  <td align=right><tt>0.02</tt></td>
  <td align=left><a href="http://search.cpan.org/~jdporter/">John Douglas Porter</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Crypt-RandPasswd"><tt>1</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Crypt::RandPasswd"><tt>1</tt></a></td>
  <td align=right><tt>2000-07-21</tt></td>
</tr><tr>
  <td><a href="#Crypt::XkcdPassword"><tt>Crypt::XkcdPassword</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~tobyink/Crypt-XkcdPassword-0.004/lib/Crypt/XkcdPassword.pm">CPAN</a></span></td>
  <td align=right><tt>0.004</tt></td>
  <td align=left><a href="http://search.cpan.org/~tobyink/">Toby Inkster</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Crypt-XkcdPassword"><tt>0</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Crypt::XkcdPassword"><tt>0</tt></a></td>
  <td align=right><tt>2012-07-05</tt></td>
</tr><tr>
  <td><a href="#Crypt::YAPassGen"><tt>Crypt::YAPassGen</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~giulienk/Crypt-YAPassGen-0.02/lib/Crypt/YAPassGen.pm">CPAN</a></span></td>
  <td align=right><tt>0.02</tt></td>
  <td align=left><a href="http://search.cpan.org/~giulienk/">Giulio Motta</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Crypt-YAPassGen"><tt>0</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Crypt::YAPassGen"><tt>0</tt></a></td>
  <td align=right><tt>2004-05-30</tt></td>
</tr><tr>
  <td><a href="#Data::Random"><tt>Data::Random</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~barefoot/Data-Random-0.07/lib/Data/Random.pm">CPAN</a></span></td>
  <td align=right><tt>0.07</tt></td>
  <td align=left><a href="http://search.cpan.org/~barefoot/">Buddy Burden</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Data-Random"><tt>0</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Data::Random"><tt>14</tt></a></td>
  <td align=right><tt>2012-06-02</tt></td>
</tr><tr>
  <td><a href="#Data::Random::String"><tt>Data::Random::String</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~makis/Data-Random-String-0.03/lib/Data/Random/String.pm">CPAN</a></span></td>
  <td align=right><tt>0.03</tt></td>
  <td align=left><a href="http://search.cpan.org/~makis/">Makis Marmaridis</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Data-Random-String"><tt>1</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Data::Random::String"><tt>0</tt></a></td>
  <td align=right><tt>2007-01-05</tt></td>
</tr><tr>
  <td><a href="#Data::SimplePassword"><tt>Data::SimplePassword</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~ryochin/Data-SimplePassword-0.07/lib/Data/SimplePassword.pm">CPAN</a></span></td>
  <td align=right><tt>0.07</tt></td>
  <td align=left><a href="http://search.cpan.org/~ryochin/">Ryo Okamoto</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Data-SimplePassword"><tt>0</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Data::SimplePassword"><tt>3</tt></a></td>
  <td align=right><tt>2011-02-23</tt></td>
</tr><tr>
  <td><a href="#Session::Token"><tt>Session::Token</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~fractal/Session-Token-0.82/lib/Session/Token.pm">CPAN</a></span></td>
  <td align=right><tt>0.82</tt></td>
  <td align=left><a href="http://search.cpan.org/~fractal/">Doug Hoyte</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Session-Token"><tt>1</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Session::Token"><tt>0</tt></a></td>
  <td align=right><tt>2012-07-21</tt></td>
</tr><tr>
  <td><a href="#String::MkPasswd"><tt>String::MkPasswd</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~cgrau/String-MkPasswd-0.03/lib/String/MkPasswd.pm">CPAN</a></span></td>
  <td align=right><tt>0.03</tt></td>
  <td align=left><a href="http://search.cpan.org/~cgrau/">Chris Grau</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=String-MkPasswd"><tt>0</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=String::MkPasswd"><tt>1</tt></a></td>
  <td align=right><tt>2010-10-18</tt></td>
</tr><tr>
  <td><a href="#String::Random"><tt>String::Random</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~steve/String-Random-0.22/lib/String/Random.pm">CPAN</a></span></td>
  <td align=right><tt>0.22</tt></td>
  <td align=left><a href="http://search.cpan.org/~steve/">Steven Pritchard</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=String-Random"><tt>1</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=String::Random"><tt>23</tt></a></td>
  <td align=right><tt>2006-09-21</tt></td>
</tr><tr>
  <td><a href="#String::Urandom"><tt>String::Urandom</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~mbrooks/String-Urandom-0.16/lib/String/Urandom.pm">CPAN</a></span></td>
  <td align=right><tt>0.16</tt></td>
  <td align=left><a href="http://search.cpan.org/~mbrooks/">Marc S. Brooks</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=String-Urandom"><tt>0</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=String::Urandom"><tt>0</tt></a></td>
  <td align=right><tt>2011-05-03</tt></td>
</tr><tr>
  <td><a href="#Text::Password::Pronounceable"><tt>Text::Password::Pronounceable</tt></a></td>
  <td><span class="docLink"><a href="http://search.cpan.org/~tsibley/Text-Password-Pronounceable-0.30/lib/Text/Password/Pronounceable.pm">CPAN</a></span></td>
  <td align=right><tt>0.30</tt></td>
  <td align=left><a href="http://search.cpan.org/~tsibley/">Thomas Sibley</a></td>
  <td align=right><a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Text-Password-Pronounceable"><tt>1</tt></a></td>
  <td align=right><a href="http://deps.cpantesters.org/depended-on-by.pl?module=Text::Password::Pronounceable"><tt>7</tt></a></td>
  <td align=right><tt>2010-08-16</tt></td>
</tr>
</table>

<p>
Crikey! Classic CPAN: 15 modules in 6 different namespaces.
I had to do multiple searches to compile that list, and I still missed 6 the first time round.
Which one is "best"?
A search on "random password generation perl" will also turn up plenty more scripts,
one-liners, etc.
I decided to evaluate all CPAN modules and write this, to save other people time.
</p>

<p>
In theory there are broadly two types of password generator:
one which generates a random sequence of characters,
and the other which generates something which looks like a word, but isn't,
making it easier to remember.
In practice, things aren't so cut and dried:
some of the "random sequence" type put more effort into making the password stronger,
by ensuring a mix of lower case, upper case, and digits, for example.
</p>

<p>
Before starting, I wrote down my minimal set of requirements:
</p>

<ul>
<li>Easy to use "out of the box".</li>
<li>Consistent run-time, which shouldn't be excessive.</li>
<li>Generates relatively secure passwords.</li>
<li>Would be nice if they're easy to remember as well.</li>
</ul>

<p>
As a result of working through them all,
I've identified some other factors that might be relevant to you:
</p>

<ul>
<li>Can you specify the length of the password, and can this be a range?</li>
<li>Can you control the alphabet from which characters are selected?</li>
<li>Do you want 'pronounceable' passwords?</li>
<li>If you want pronouncable passwords, can you generate your own models from a wordlist?</li>
</ul>

<p>
First we'll look at each of the modules in turn, and then provide a summary, and recommendations.
</p>
<h2 id="App::Genpass">App::Genpass</h2>
<p>
This is used to generate passwords which are random sequences of characters.
It has a number of options which let you control the characteristics of the generated passwords. Simplest usage:
</p>

<pre>
use App::Genpass;

$generator = App::Genpass->new();
$password = $generator->generate();
</pre>

<p>This will generate a ten-character password.</p>

<p>
You can pass a number of parameters to the constructor:
</p>

<pre>
$generator = App::Genpass->new(
                number    => 1,
                readable  => 1,
                special   => 0,
                verify    => 1,
                minlength => 8,
                maxlength => 12,
             );
</pre>

<p>
The <b>number</b> parameter says how many passwords should be generated.
Setting <b>readable</b> to true will exclude confusable characters
such as o, O, 0, 1, l, and I.
<b>special</b> enables inclusion of characters like '@', '#', etc.
Turning on <b>verify</b> will ensure generated passwords
have the different characters wanted.
</p>

<p>
You can specify minimum and maximum lengths for the generated password,
using the <b>minlength</b> and <b>maxlength</b> parameters,
which have default values of 8 and 10.
You can also request a specific password length,
with the <b>length</b> parameter.
</p>

<p>
The <b>readable</b> and <b>special</b> are mutually exclusive:
if you want a readable password then you can't have special characters in it.
If you specify both, readability takes precedence.
</p>

<p>
You can also override the character classes that are used internally:
providing lists for lower case letters, upper-case, digits,
and special characters.
This would presumably let you include things like Ã, Ã¥, Ã°, etc.
</p>

<p>
Ten passwords generated using the settings above:
</p>

<pre>
QysPJ8mL
MG3ahxKS
w8D3Mq39
gkL6p5Cy
3xFXAGf2
k3REf7Rj
V7JkjMb6
T5DFvii4
K3kuV9WD
3nybmAVj
</pre>

<p>
This is still actively maintained: while writing this I emailed Sawyer
a number of comments,
and he released updates before I'd even completed the first draft.
</p>

<p>
The distribution includes a <tt>genpass</tt> script,
which gives you command-line access, with control over all the options.
</p>

<p>
For batch generation of passwords, where pronouncability is not a requirement,
this module would be a good choice.
I like the readability option,
where potentially confusable characters aren't included.
</p>
<h2 id="Crypt::GeneratePassword">Crypt::GeneratePassword</h2>
<p>
This module provides three functions: <b>word()</b> is used to generate a random pronounceable password using 4-grams; <b>word3()</b> generates a pronounceable password using tri-grams; and <b>chars()</b> generates a password by randomly selecting characters from a specific set.
The documentation claims that the approach used in this module is more secure than that used in Crypt::RandPasswd, and refers the interested reader to <a href="http://www.findravi.com/downloads/ANewAttackonRandomPronounceablePassw.pdf">an article by Ravi Ganesan and Chris Davies</a>.
</p>

<pre>
use Crypt::GeneratePassword qw(word word3 chars);

print "word password  = '", word(8, 8), "'\n";
print "word3 password = '", word3(8, 8), "'\n";
print "chars password = '", chars(8,8), "'\n";
</pre>

<p>
When calling <b>chars</b>,
you can pass an arrayref which provides the set of characters to select from.
</p>

<p>
When calling <b>word</b> or <b>word3</b>,
you can pass a language code. Only 'en' (English) and 'de' (German)
are supported,
but the module provides helper functions for generating and
loading your own language model.
The author encourages submissions for additional languages,
but it doesn't look like he's had any.
</p>

<p>
Sample passwords generated by the three functions, with default settings:
</p>

<pre>
 word()    word3()   chars()
--------  --------  --------
ddametoo  xichoref  !+Esvvwe
imingadm  ahicatru  KI_TFO&_
ndirifef  ospograr  w+qtMk&k
giparauc  ferworea  mbXAXs89
dleroupc  tomanisk  AWHQg1k-
xalephui  hrescird  O7Hbw_bG
efaliops  quilenno  &#S9zeAV
psulvent  awalonta  xz_&=loz
iteteogo  mbilurou  wlokXmUx
breabosh  omengesm  =55ZGwAC
</pre>

<p>
The module will also scan generated passwords to remove any potentially offensive sequences. You can provide your own function for this.
</p>

<p>
The documentation doesn't really explain the different between <tt>word()</tt> and <tt>word3</tt>, apart from saying that one uses 3-grams and one uses 4-grams.
The functions could be better named, but the module works fine. 
</p>
<h2 id="Crypt::PassGen">Crypt::PassGen</h2>
<p>
This provides a function <b>passgen</b>, which generates random passwords that look like real words.
The two arguments you're likely to use specify the number of words to generate, and the number of letters in each password.
</p>

<pre>
use Crypt::PassGen qw/ passgen /;

@passwords = passgen( NWORDS => 10, NLETT => 8 );
</pre>

<p>Here's ten passwords generated with the above line:</p>

<pre>
phystonp
colyphyp
costriph
salielyt
anticous
ungonest
subsemis
cocheleu
scionerh
pasifica
</pre>

<p>
It works from frequency data (letter, letter bigram and letter trigram) which has been generated from a word list.
You can generate your own frequency data using the <b>ingest</b> function, which writes the data to a file. You can then
pass the filename to the <b>passgen</b> function.
</p>
<h2 id="Crypt::PW44">Crypt::PW44</h2>
<p>
Crypt::PW44 was inspired by an <a href="http://xkcd.com/936/">xkcd cartoon</a>,
the basic message of which was that a random password is likely to be hard for a human to
remember but relatively easy for a computer to crack.
Instead, the cartoon suggests that you construct a password from 4 (say) words, randomly
selected from a dictionary. This will take a lot more CPU cycles to find, and probably
be easier for a human to remember.
</p>

<p>
Although the documentation describes it as a simple password generator,
the example usage in the SYNOPSIS (for generating a four-word passphrase) is:
</p>

<pre>
use Crypt::PW44 qw(generate);
  
print generate(pack('Ll',int(rand(2**32)),int(rand(2**16))),3), "\n";</pre>

<p>
Note: this is slightly different from the example in the SYNOPSIS,
as that has a syntax error.
Running this ten times produces the following:
</p>

<pre>RIM BURY TIC KURD
COCA JURY GWEN HAWK
LENS CROW TERM HAP
BERG QUOD BAND ROSS
OTT ROB GONE AS
WAD CALM BACK GOOD
FLEW FAY MOTH ROSE
MARE HIKE TORE CULL
LAC ELLA TOUT BURY
JUNE YET IFFY WAYS
</pre>

<p>
The <tt>generate</tt> function takes two arguments.
The first is described as "entropic data",
which must be binary and more than N*11 bits in size.
The second is N, one less than the number of words to include in the password.
Neither of these arguments is very user-friendly.
Most people aren't likely to understand what's required for the first argument,
so will just copy the synopsis. In which case, drop the argument, or make it optional.
And if the user has to specify the number of words to use, let them specify that,
not N-1.
</p>

<p>
Crypt::PW44 has a dictionary of 2048 words of length 1 to 4 characters.
Selecting a word from the list requires 11 bits,
so a password of four words requires 44 bits,
the value used in the cartoon. That's where the 44 in the PW44 name comes from.
Given that, you should be able to pass no arguments to the <tt>generate</tt> function,
and it would return a four word passphrase.
</p>

<p>
The documentation says that the wordlist is from an OPIE dictionary,
but doesn't make clear what that is, or where it came from.
It does contain some questionable 'words', such as
<em>AUG</em>, <em>DEL</em>, <em>HAAG</em>, and <em>TRAG</em>.
These should really be cleaned out, given the goal is easy-to-remember passphrases.
</p>
<h2 id="Crypt::RandPasswd">Crypt::RandPasswd</h2>
<p>
This provides three functions:
</p>

<ul>
<li>The <b>word</b> function generates a pronounceable password using the approach described in the <a href="http://www.itl.nist.gov/fipspubs/fip181.htm">FIPS 181</a> standard, "Automated Password Generator".
<li>The <b>letters</b> function generates a random sequence of letters.
<li>The <b>chars</b> function generates a random sequence of printable characters.
</ul>

<p>
The module isn't particularly flexible -- it only supports English, and doesn't provide tools for generating your own models -- but the documentation does show how you can override some of the internal functions:
</p>

<pre>
*Crypt::RandPasswd::rng = \&my_random_number_generator;
</pre>

<p>
The following table shows 10 passwords generated by the 3 functions:
</p>


<blockquote>
<table>
<tr><th>word()</th><td></td><th>letters()</th><td></td><th>chars()</tr>
<tr>
<td>
<pre>
cofityeb
jegewmat
fonewvec
quocebur
ajyumayg
exotsjob
ajeekyul
woadeadi
moidskat
cocyaudo
</pre>
</td>
<td>&nbsp;&nbsp;</td>
<td>
<pre>
igbxephb
cwyhnaoi
wihvbett
nqsgkqiq
zxfjxmda
nkctsfod
lmroobjq
zpzthgzm
cftbjmge
vllykqsd
</pre>
</td>
<td>&nbsp;&nbsp;</td>
<td>
<pre>
Bc2LGx$3
q9O&gt;5gKJ
==LuvlDj
~)`78b/6
~Q=;7H?m
8:J+?^&gt;D
%XA}c~`-
Kds:W/XD
RJe$t^;"
<~`*G:}|
</pre>
</td>
</tr>
</table>
</blockquote>

<p>
As noted in the introduction, the <b>word</b> function regularly locks up: it will chew up CPU and not return.
</p>
<h2 id="Crypt::XkcdPassword">Crypt::XkcdPassword</h2>
<p>
Crypt::XkcdPassword was also inspired by the
<a href="http://xkcd.com/936/">xkcd cartoon</a>
that inspired <a href="#Crypt::PW44">Crypt::PW44</a>.
See the description of Crypt::PW44 above for more on the cartoon.
</p>

<p>
Here's the usage based on creating an instance of the generator:
</p>

<pre>
  use Crypt::XkcdPassword;
  
  $generator = Crypt::XkcdPassword->new();
  print $generator->make_password(4), "\n";</pre>

<p>
The single argument to <tt>make_password</tt> specifies the number of words in the password,
and defaults to 4.
Here are ten passwords generated by running the above:
</p>

<pre>  spots haven't identical reservation
  lindsay's participate terry bugging
  rid count plan london
  lucinda's foods circuit deserved
  nasty called stuck fights
  back confessing fucked frightening
  toys uptight scare replacement
  ping squared swamped mid
  tapes handful handful timmy
  tone freaked westbridge gordon
</pre>

<p>
The constructor supports two parameters:
</p>

<pre>
  $generator = Crypt::XkcdPassword->new(
                                        words => 'EN',
                                        rng   => sub { int(rand($_[0])) },
                                       );</pre>

<p>
The <tt>words</tt> parameter is used to select the wordlist:
it is used to construct a classname, in this case <tt>Crypt::XkcdPassword::Words::EN</tt>.
The distribution also comes with an IT class for Italian.
</p>

<p>
The <tt>rng</tt> parameter lets you specify your own function for selecting words at random,
so you could use <tt>/dev/random</tt> or <tt>/dev/urandom</tt>, for example.
</p>

<p>
If you don't want to parameterise the generator, and don't want to pass an instance around,
you can also call <tt>make_password</tt> as a class method:
</p>

<pre>
  use Crypt::XkcdPassword;
  
  print Crypt::XkcdPassword->make_password(4), "\n";</pre>

<p>
I can see a number of potential problems with this module. Some of these have been partially addressed with a recent release
which includes an alternate English word list,
<a href="https://www.metacpan.org/source/TOBYINK/Crypt-XkcdPassword-0.004/lib/Crypt/XkcdPassword/Words/EN/Roget.pm">EN::Roget</a>.
</p>

<ul>
<li>The wordlist contains a number of one-letter words,
    so you could theoretically get a password made up of four one-letter words.
    EN::Roget also contains one-letter words.
    </li>
<li>The wordlist contains a good selection of offensive words. I use one of the modules listed
    here to automatically generate temporary passwords which are emailed to our users.
    If I used <tt>Crypt::XkcdPassword</tt> someone could get a password <em>i fucked your grandmother</em>
    or even <em>mothefucker you're a c**t</em>.
    The documentation does warn about this (" <em>may sometimes be inappropriate for uttering in polite company</em> ",
    but I think the module should either not include potentially offensive words,
    or provide an option for selecting whether they're included in the word list.
    This sort of module is likely to be used to generate passwords to give to people, so why risk offending one of them?
    EN::Roget doesn't have quite as many swear words, but still has a few.
    </li>
<li>The word list hasn't been cleaned, so there are some invalid words in the list.
    Given the idea is to make it easy for humans to remember the passphrase,
    the module should really be clean, and you could argue it shouldn't have any words
    that are hard to spell. A quick check against a word-list I have turned up <em>mmm</em>,
    <em>nbsp</em>, <em>cristian</em>, <em>livvie</em> and <em>timmih</em>, and <em>Ãº</em>,
    amongst others. I submitted a bunch via RT.
    EN::Roget seems cleaner, but still has some invalid words an uncommon acronyms.
    </li>
<li>The documentation also points out that the wordlist isn't ASCII clean,
    so it could generate passphrases containing fiancÃ©e or cafÃ©.
    I suspect that many people in English-speaking countries wouldn't know how to type
    accented characters on their computer, so again either such words should be excluded
    from the list, or have an <tt>include_non_ascii</tt> option.
    EN::Roget appears to be ASCII clean.
    </li>
</ul>
<h2 id="Crypt::YAPassGen">Crypt::YAPassGen</h2>
<p>
Another generator for pronounceable passwords. This was created because Giulio couldn't make Crypt::PassGen (above) work with Italian frequency data.
</p>

<pre>
use Crypt::YAPassGen;

my $passgen  = Crypt::YAPassGen->new();
my $password = $passgen->generate();
</pre>

<p>
As with many others, it works off a file that has frequency information generated from a word list. A method is provided for generating
frequency data from your own word list.
</p>

<p>
The constructor takes optional parameters to control the generation: you can specify the length of password, and whether you only want 7-bit ASCII characters
(regardless of the characters seen in the word list). You can also select one of four standard algorithms for generating the password, or roll your own.
</p>

<p>
Here's 10 passwords from each of the built-in generating algorithms ('sqrt' is the default):
</p>

<blockquote>
<table><tr><th>linear</th><td></td><th>sqrt</th><td></td><th>log</th><td></td><th>flat</th><tr>
<td><pre>
ianistiz
tatedrum
emulusla
feracksc
onactimi
atersiza
cuttermi
ialcarde
palecons
igrovens
</pre></td><td>&nbsp;&nbsp;</td>
<td><pre>
rtrouchf
dyinlieb
enollwov
nnanchou
hodyiked
otoosmse
curagaea
vattedba
iciptsio
muguidsp
</pre></td><td>&nbsp;&nbsp;</td>
<td><pre>
kesuntly
nreetsbu
japudidu
sahnensm
sayonell
osconigs
eulceduc
ggleorvo
aframira
lnequais
</pre></td><td>&nbsp;&nbsp;</td>
<td><pre>
vywagmio
viseidor
rhigpirn
gzagosli
chgoinuu
erxinsso
wflutobi
jewfaxts
kwolkefc
equouich
</pre></td><td>&nbsp;&nbsp;</td>
</tr></table>
</blockquote>

<p>
You can also select one or more post-generation filters, which modify generated passwords before they're returned by the generate method.
There are three built-in ("haxor" changes some characters into l33t versions; "caps" will insert some random upper-case characters; "digits" will insert digits. You can also provide your own filter functions.
</p>

<p>
This is more of a swiss-army knife version than some of the other modules.
</p>
<h2 id="Data::Random">Data::Random</h2>
<p>
This module provides function for generating various types of random string:
words, character strings, dates, times, and selecting items from sets.
The relevant function for generating a password is <tt>rand_chars()</tt>.
</p>

<pre>
use Data::Random qw(rand_chars);

$password = rand_chars(set => 'alphanumeric', size => 8);
</pre>

<p>
The <b>size</b> parameter specifies an exact number of characters desired; you can alternatively pass <b>min</b> and <b>max</b> parameters, and will get back a random number of characters between the limits specified. The <b>set</b> parameter selects which set of characters should be used. Options are:
</p>

<pre>
alpha        - alphabetic characters: a-z, A-Z
upperalpha   - upper case alphabetic characters: A-Z
loweralpha   - lower case alphabetic characters: a-z
numeric      - numeric characters: 0-9
alphanumeric - alphanumeric characters: a-z, A-Z, 0-9
char         - non-alphanumeric characters:
               # ~ ! @ $ % ^ & * ( ) _ + = - { } | : " < > ? / . ' ; ] [ \ `
all          - all of the above
</pre>

<p>
The following 10 passwords were generated using the example invocation above:
</p>

<pre>
wtXN890S
W4c9Z713
GBb5LQ0q
aLCzsKqS
RHOPlg6b
YQVX4nwF
SQmhfCdz
ZS0rcemJ
pF7OTKLo
HQpA6iM3
</pre>

<p>
This module is a useful collection of functions for randomly generating data, but <tt>rand_chars()</tt> doesn't really have the right characteristics for generating passwords.
</p>
<h2 id="Data::Random::String">Data::Random::String</h2>
<p>
This module provides a single function for generating strings of a fixed length, with characters randomly selected from alpha, numeric, or alphanumeric. To generate an 8-character alphanumeric password you'd use:
</p>

<pre>
use Data::Random::String;

$password = Data::Random::String->create_random_string(length => 8, contains => 'alphanumeric');
</pre>

<p>
I've submitted an RT report, suggesting that the interface be changed so you don't have to invoke the function as a class method.
</p>

<p>
Ten passwords:
</p>

<pre>
fYSC7Qj2
b5O7IQoR
ymezC2VD
sxtbTagV
ua50HJfd
IoBjwww7
QP3qM0hf
N8nDDmDc
bMRqUNLF
3VSeekNW
</pre>

<p>
This module doesn't add anything over <tt>Data::Random</tt>,
other than being slightly faster.
</p>
<h2 id="Data::SimplePassword">Data::SimplePassword</h2>
<p>
This is a simple module for generating random character-string passwords:
</p>

<pre>
use Data::SimplePassword;

$passgen  = Data::SimplePassword->new();
$password = $passgen->make_password(8);
</pre>

<p>
There are only two ways you can configure this. The <b>chars</b> method is use to get/set the set of characters from which the password will be generated.
The <b>provider</b> method is used to set the random number generator used (see Crypt::Random::Provider::*).
</p>

<p>
Again, here are 10 passwords generated using the above code:
</p>

<pre>
ZKHXjrAn
gZ8rQ6pv
VUZ2FPBg
OOcwuaU5
dgbbJD9T
Nl3u1aHG
bidw7YM1
OR0w49CX
jcznAwVd
6Kacde3x
</pre>

<p>
While this scores low on feature set,
it scores well for taking random number generation seriously.
</p>
<h2 id="Session::Token">Session::Token</h2>
<p>
Session::Token aims to provide "secure, efficient and simple random session token generation".
The following shows how you can use it to generate eight-character passwords:
</p>

<pre>
use Session::Token;

$generator = Session::Token->new(length => 8);
print $generator->get(), "\n";</pre>

<p>
Here are ten passwords generated using the above:
</p>


<pre>2Q2JnqW0
b5vgI07F
bEv2s6NX
co36UTeL
k4xaNwse
YD0B9qte
LVZaT5MF
r2ReFvJo
cryalhLP
Ph9nUr3x
</pre>

<p>
You can specify the length of password either using the <strong>length</strong> argument
(which specifies a number of characters),
or using the <strong>entropy</strong> argument,
which specifies the minimum entropy in number of bits.
If using entropy, you must also take into account the number of characters in the alphabet.
The default alphabet is [A-Za-z0-9], but you can change this with the <strong>alphabet</strong>
argument, which takes either a string or an array of characters.
</p>

<p>
The following example shows how you could emulate the <em>readable</em> option from App::Genpass,
specifying an alphabet which doesn't contain confusible characters:
</p>

<pre>
use Session::Token;
@alphabet = qw(
               A B C D E F G H J K M N P Q R S T U V W X Y Z
               a b c d e f g h j k m n p q r s t u v w x y z
               2 3 4 5 6 7 8 9
              );

$generator = Session::Token->new(alphabet => \@alphabet, entropy => 32);
print $generator->get(), "\n";</pre>

<p>
Session::Token reads from <tt>/dev/urandom</tt> if available (<tt>/dev/random</tt> otherwise),
to seed the <a href="http://www.burtleburtle.net/bob/rand/isaacafa.html">ISAAC</a>
random number generator.
The documentation provides a thorough description of the underlying algorithm,
including how it avoids bias. The SEE ALSO section provides a good list of pointers to similar modules,
which brief comparison to Session::Token.
</p>

<p>
As you can see from the performance <a href="#comparison">comparison</a> below,
this is the fastest module, by a comfortable margin.
</p>
<h2 id="String::MkPasswd">String::MkPasswd</h2>
<p>
Another simple module, this exports one function which is used to generate a password:
</p>

<pre>
use String::MkPasswd qw(mkpasswd);

$password = mkpasswd();
</pre>

<p>
Here are 10 passwords generated using the above code:
</p>

<pre>
Uu1b&lt;7vzO
m9fH[Lk4s
3pTw0@pxL
Y9&lt;lz2Qqe
6ksJ)Mbj8
)tdY3rk9X
yN3qi1Fb{
h{I3l7Uum
5Jkgb9%yZ
w6pQy4Ic&
</pre>

<p>
The function takes a number of optional parameters, which control password generation:
</p>

<pre>
$password = mkpasswd(
              -length     => 9,   # number of characters in password
              -minnum     => 2,   # min number of digits in password
              -minlower   => 2,   # min number of lower case characters
              -minupper   => 2,   # min number of upper case characters
              -minspecial => 2,   # min number of special characters
              -distribute => 1,
            );
</pre>

<p>
If <b>distribute</b> is true,
"password characters will be distributed between the left- and right-hand sides of the keyboard. This makes it more difficult for an onlooker to see the password as it is typed. The default is false".
Interesting feature.
</p>
<h2 id="String::Random">String::Random</h2>
<p>
This module provides two mechanisms for creating random strings based on a pattern.
The documentation mentions password generation as an example, but it probably has uses elsewhere.
</p>

<p>
The <tt>random_string</tt> function generates a random string according to a pattern.
Each character in the pattern can be one of:
</p>

<pre>
c   Any lowercase character [a-z]
C   Any uppercase character [A-Z]
n   Any digit [0-9]
!   A punctuation character [~`!@$%^&*()-_+={}[]|\:;"'.<>?/#,]
.   Any of the above
s   A "salt" character [A-Za-z0-9./]
b   Any binary data
</pre>

<p>
So to generate an 8-character password made up of salt characters only:
</p>

<pre>
$password = random_string('ssssssss');
</pre>

<p>
You can extend the standard list of pattern characters with your own,
which would let you control exactly which characters can appear in passwords.
</p>

<p>
The <tt>random_regex</tt> function is similar, but takes a simplified form of regular expression:
</p>

<pre>
\w    Alphanumeric + "_".
\d    Digits.
\W    Printable characters other than those in \w.
\D    Printable characters other than those in \d.
.     Printable characters.
[]    Character classes.
{}    Repetition.
*     Same as {0,}.
?     Same as {0,1}.
+     Same as {1,}.
</pre>

<p>
To generate an 8-character password made up of alphanumeric characters and underscore:
</p>

<pre>
$password = random_regex('\w{8}');
</pre>

<p>
The module also supports an OO style interface:
</p>

<pre>
use String::Random;

$random   = String::Random->new();
$password = $random->randregex('\w{8}');
$password = $random->randpattern('ssssssss');
</pre>

<p>
Here's the 10 passwords, generated with random_string('ssssssss') and random_regex('\w{8}'):
</p>

<pre>
string     regex
--------  --------
8YPfzMzZ  @p??%A&m
MOjfNgH_  R}8Hq9|5
BL0V3mny  .D<;ZIm1
FOHJAnuz  'BOzE6?#
UVHh9PB6  (#elP~&{
EtUXo8TP  7bAY2IS?
RJKkEYLt  fSaO[(;[
zHbc8qtN  'P_F|WAj
Ovyz9hbt  T~`x`@2p
8hUUTh0j  UL3T]+n|
</pre>

<p>
This module gives you a lot of low-level control,
but unlike App::Genpass it doesn't provide you with sensible defaults for generating a password.
And if you used the 's' pattern as I did above,
there's a small chance that you'd generate a dictionary word. A small chance admittedly,
but the module isn't doing anything to ensure the quality of the generated string as a password --
it's too low-level.
</p>

<p>
Like many of the modules here, I think the functions and methods could be better named.
In particular the assymetry between the function and method names: random_regex and randregex,
but random_string and randpattern.
</p>
<h2 id="String::Urandom">String::Urandom</h2>
<p>
This module used <tt>/dev/urandom</tt> to generate a random string of characters, with an OO interface:
</p>

<pre>
use String::Urandom;

$generator = String::Urandom->new(LENGTH => 8,
                                  CHARS  => [ 'a' .. 'z', 'A' .. 'Z', '0' .. '9' ]);
$password  = $generator->rand_string();
</pre>

<p>
If you don't pass the CHARS parameter, it will default to alphanumeric characters, which I specified explicitly above.
</p>

<p>
Here's the standard 10 passwords, generated using the default alphanumeric:
</p>

<pre>
1YlDp6iu    OysIZDqu
UWFiB2jY    5SL9SBRD
crQgVaji    rVzYswO9
ETyKfLQs    DvATAD77
nw3UmiTm    aT2x4y5w
</pre>

<p>
This is similar in function to Data::Random and Data::Random::String,
but it has a better interface than the latter, and gives you control over the character set,
which the other two don't.
Presumably it generates more truly random data, since it's using <tt>/dev/urandom</tt>,
but as a result it's noticeably slower.
</p>
<h2 id="Text::Password::Pronounceable">Text::Password::Pronounceable</h2>
<p>
A module for generating English pronounceable passwords. The only control you have is specifying a min and max length for the password:
</p>

<pre>
use Text::Password::Pronounceable;

$generator = Text::Password::Pronounceable->new(8);
$password  = $generator->generate();
</pre>

<p>
You can specify the length of password on each generation, as well as to the constructor.
</p>

<p>
Again, here are 10 passwords generated using the above code:
</p>

<pre>
ptofilet
softhait
ttexwore
astouama
allstssi
ffyfanou
toicores
adthssth
trabyith
fflertem
</pre>
<h1 id="comparison">Comparison</h1>

<p>
I used <a href="http://search.cpan.org/~jesse/perl-5.14.1/lib/Benchmark.pm">Benchmark</a> to compare performance, generating 100,000 passwords with each module.
I used the default settings with each module, other than specifying a password length of 8 characters.
</p>

<p>
First, let's look at the relative performance of modules/functions for generating random character strings:
</p>

<table class=benchmarkSummary><tr><th>Module</th><th align=right>Time (s)</th></tr>
<tr><td>Session::Token</td><td align=right class=time>0.12</td></tr>
<tr><td>Crypt::GeneratePassword::chars</td><td align=right class=time>1.29</td></tr>
<tr><td>Crypt::RandPasswd::letters</td><td align=right class=time>1.45</td></tr>
<tr><td>Crypt::RandPasswd::chars</td><td align=right class=time>1.49</td></tr>
<tr><td>String::Random::pattern</td><td align=right class=time>1.56</td></tr>
<tr><td>Data::Random::String</td><td align=right class=time>1.77</td></tr>
<tr><td>String::Random::regex</td><td align=right class=time>2.58</td></tr>
<tr><td>String::MkPasswd</td><td align=right class=time>3.53</td></tr>
<tr><td>Data::Random</td><td align=right class=time>4.36</td></tr>
<tr><td>App::Genpass</td><td align=right class=time>25.71</td></tr>
<tr><td>String::Urandom</td><td align=right class=time>67.88</td></tr>
<tr><td>Data::SimplePassword</td><td align=right class=time>1187.08</td></tr>
</table>


<p>
Impressive figures for Session::Token &mdash; an order of magnitude faster than the next fastest module.
And Data::SimplePassword, by far the slowest. Interesting in that those are two of the modules that
take random number generation seriously.
</p>

<p>
And now, for those which generate pronounceable passwords:
</p>

<table class=benchmarkSummary><tr><th>Module</th><th align=right>Time (s)</th></tr>
<tr><td>Crypt::PW44</td><td align=right class=time>1.22</td></tr>
<tr><td>Crypt::XkcdPassword</td><td align=right class=time>1.60</td></tr>
<tr><td>Text::Password::Pronounceable</td><td align=right class=time>3.59</td></tr>
<tr><td>Crypt::PassGen</td><td align=right class=time>14.06</td></tr>
<tr><td>Crypt::YAPassGen</td><td align=right class=time>14.11</td></tr>
<tr><td>Crypt::GeneratePassword::word</td><td align=right class=time>515.35</td></tr>
<tr><td>Crypt::GeneratePassword::word3</td><td align=right class=time>2898.13</td></tr>
</table>


<p>
Even though there's a big range of times here, even the slowest function can generated 32 passwords per second.
</p>

<p>
I also wanted some measure of password quality. I haven't done any formal analysis, but I generated 100,000 passwords with each module/function, and checked how many
of the generated passwords appeared in an English word list I have. Only two candidates failed this test:
</p>

<table class=benchmarkSummary>
<tr><th>Module</th><th align=right># Words</th><th>Examples</th></tr>
<tr><td>Text::Password::Pronounceable</td><td align=right>22</td><td>penchant, islander</td></tr>
<tr><td>Crypt::GeneratePassword::word</td><td align=right>6</td><td>unpoetic, eurafric</td></tr>
</table>
</blockquote>
<h1 id="conclusion">Conclusion</h1>

<p>
Which module should you use? As ever, it depends.
</p>

<p>
If you're not looking for pronounceable passwords, I'd go with App::Genpass:
it's more mature than the others, has sensible defaults, and generates good passwords without tuning.
There are a few features it could borrow from other modules, but many of the comments I made in
previous versions of this review have been addressed in recent releases.
</p>

<p>
If Session::Token borrowed a few features from the other modules, it would be a serious contender:
it's very fast, and takes random number generation very seriously.
</p>

<p>
If you are looking for pronounceable passwords, I'd try Crypt::YAPassGen:
you can build your data files, and it supports a lot of options for tweaking the passwords.
I was going to suggest Text::Password::Pronounceable if you're looking for something simple
in English only, until it failed my simple password quality check.
If some of the issues I listed were addressed, Crypt::XkcdPassword would be a good choice
for a pronounceable and secure password.
</p>

<p>
If you want to generate random instances of other types of data,
then Data::Random and String::Random would be helpful.
</p>

<p>
As an end-user looking for this functionality, I'd like to take the best of each module,
as there's no outright winner:
</p>

<ul>
<li>One module could support the two main types of password, as Crypt::GeneratePassword does.
<li>For random sequence generation, merge features from App::Genpass and String::MkPasswd but have default output be more like App::Genpass, and take Data::SimplePassword's use of random number generators (but not its performance).
<li>For pronounceable passwords:
    <ul>
    <li>Take Crypt::GeneratePassword's ability to specify a language code.</li>
    <li>Provide ability to generate your own models.</li>
    <li>Crypt::GeneratePassword's feature to filter out potentially offensive words / sequences.</li>
    <li>Crypt::YAPassGen's filter system.</li>
    </ul>
</ul>

<p>
Now, let's see if I can work out why Crypt::RandPasswd locks up...
</p>

<div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'cpanreviews';

            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
</body>
</html>
